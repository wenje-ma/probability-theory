## 1.3 随机变量
### 1.3.1 定义: 可测映射
设 $(\Omega,\mathcal{F})$ 与 $(S,\mathcal{S})$ 为两个可测空间, 若映射 $X:\Omega\to S$ 满足
$$
\forall B\in\mathcal{S},\quad X^{-1}(B)=\{\omega\in\Omega\mid X(\omega)\in B\}\in\mathcal{F}
$$
则称 $X$ 为从 $(\Omega,\mathcal{F})$ 到 $(S,\mathcal{S})$ 的**可测映射**. 

### 1.3.2 定义: 随机向量
设 $(\Omega,\mathcal{F},P)$ 为概率空间, 若映射 $X:\Omega\to\mathbb{R}^n$ 是从 $(\Omega,\mathcal{F})$ 到 $(\mathbb{R}^n,\mathcal{B}(\mathbb{R}^n))$ 的可测映射, 则称 $X=(X_1,X_2,\dots,X_n)$ 为**$ n $ 维随机向量**. 

其中 $\mathbb{R}^n$ 上的 $ n $ 维 Borel $\sigma$-代数定义为
$$
\mathcal{B}(\mathbb{R}^n)=\sigma\{A_1\times A_2\times\cdots\times A_n\mid A_i\in\mathcal{R},\;i=1,2,\dots,n\}
$$
即由所有 $n$ 维矩形 Borel 集生成的 $\sigma$-代数. 

### 1.3.3 定理: 可测映射的判定定理 (Thm. 1.3.1)
设 $(\Omega,\mathcal{F})$ 与 $(S,\mathcal{S})$ 为可测空间, $\mathcal{A}$ 是 $S$ 的子集族, 且 $\sigma(\mathcal{A})=\mathcal{S}$. 若映射 $X:\Omega\to S$ 满足
$$
\forall A\in\mathcal{A},\quad X^{-1}(A)\in\mathcal{F}
$$
则 $X$ 是从 $(\Omega,\mathcal{F})$ 到 $(S,\mathcal{S})$ 的可测映射. 

#### 证明
构造集合族
$$
\mathcal{B}=\{B\subset S\mid X^{-1}(B)\in\mathcal{F}\}
$$
1.  **验证 $\mathcal{B}$ 是 $\sigma$-代数**


- 全集与空集: $X^{-1}(S)=\Omega\in\mathcal{F}$, $X^{-1}(\emptyset)=\emptyset\in\mathcal{F}$, 故 $S,\emptyset\in\mathcal{B}$; 

- 补封闭性: 对任意 $B\in\mathcal{B}$, $X^{-1}(B^c)=(X^{-1}(B))^c\in\mathcal{F}$, 故 $B^c\in\mathcal{B}$; 
- 可数并封闭性: 对任意可数子集族 $\{B_i\}_{i=1}^\infty\subset\mathcal{B}$, $X^{-1}(\bigcup_{i=1}^\infty B_i)=\bigcup_{i=1}^\infty X^{-1}(B_i)\in\mathcal{F}$, 故 $\bigcup_{i=1}^\infty B_i\in\mathcal{B}$. 

2. **推导 $\mathcal{S}\subset\mathcal{B}$**

由已知 $\mathcal{A}\subset\mathcal{B}$, 且 $\mathcal{S}=\sigma(\mathcal{A})$ 是包含 $\mathcal{A}$ 的最小 $\sigma$-代数, 故 $\mathcal{S}\subset\mathcal{B}$. 即对所有 $B\in\mathcal{S}$, $X^{-1}(B)\in\mathcal{F}$, $X$ 是可测映射. 

### 1.3.4 示例: 实值随机变量的判定条件 (Ex. 1.3.2)
设 $X:(\Omega,\mathcal{F},P)\to(\mathbb{R},\mathcal{R})$ 为映射, 若对任意 $x\in\mathbb{R}$, 有
$$
X^{-1}((-\infty,x])=\{\omega\in\Omega\mid X(\omega)\le x\}\in\mathcal{F}
$$
则 $X$ 是实值随机变量. 

### 1.3.5 定理: 连续函数与随机变量的复合可测性 (Thm. 1.3.5)
设 $X_1,X_2,\dots,X_n$ 是概率空间 $(\Omega,\mathcal{F},P)$ 上的实值随机变量, $f:\mathbb{R}^n\to\mathbb{R}$ 是连续函数, 则 $Y=f(X_1,X_2,\dots,X_n)$ 是实值随机变量. 

#### 证明
连续函数 $f$ 满足: 对 $\mathbb{R}$ 中任意开集 $U$, $f^{-1}(U)$ 是 $\mathbb{R}^n$ 中的开集, 而开集属于 $\mathcal{B}(\mathbb{R}^n)$. 

因 $X_1,\dots,X_n$ 是随机变量, $(X_1,\dots,X_n)$ 是 $\mathcal{F}/\mathcal{B}(\mathbb{R}^n)$ 可测映射, 故
$$
Y^{-1}(U)=(X_1,\dots,X_n)^{-1}(f^{-1}(U))\in\mathcal{F}, 
$$
即 $ Y $ 可测. 

### 1.3.6 示例: 随机变量的和是随机变量 (Ex. 1.3.6)
设 $X_1,X_2,\dots,X_n$ 是概率空间 $(\Omega,\mathcal{F},P)$ 上的实值随机变量, 则 $Y=X_1 + X_2 + \dots + X_n$ 是实值随机变量. 

#### 证明
取连续函数 $f(x_1,x_2,\dots,x_n)=x_1 + x_2 + \dots + x_n$. 对任意 $a\in\mathbb{R}$, 
$$
f^{-1}((-\infty,a))=\{(x_1,\dots,x_n)\in\mathbb{R}^n\mid x_1 + \dots + x_n < a\}
$$
是 $\mathbb{R}^n$ 中的开集, 属于 $\mathcal{B}(\mathbb{R}^n)$. 由 Thm. 1.3.5 知 $Y=f(X_1,\dots,X_n)$ 是实值随机变量. 

### 1.3.7 定理: 随机变量的代数运算可测性 (Thm. 1.3.6)
若 $X,Y$ 是概率空间 $(\Omega,\mathcal{F},P)$ 上的实值随机变量, $c\in\mathbb{R}$, 则以下映射均为实值随机变量: 
1.  $X + Y$; 
1.  $cX$;
1.  $XY$;
1.  $X/Y$ ($Y\neq0$ a.s.) . 

### 1.3.8 定理: 可测函数列的极限运算可测性 (Thm. 1.3.7)
若 $\{X_n\}_{n=1}^\infty$ 是概率空间 $(\Omega,\mathcal{F},P)$ 上的实值随机变量序列, 则
$$
\inf_{n\ge1}X_n,\quad \sup_{n\ge1}X_n,\quad \liminf_{n\to\infty}X_n,\quad \limsup_{n\to\infty}X_n
$$
均为实值随机变量. 

#### 证明
1.  **下确界可测性**

对任意 $a\in\mathbb{R}$, $\{\inf_{n\ge1}X_n < a\}=\bigcup_{n=1}^\infty\{X_n < a\}\in\mathcal{F}$, 由 Ex. 1.3.2 知 $\inf_{n\ge1}X_n$ 可测. 

2. **上确界可测性**

对任意 $a\in\mathbb{R}$, $\{\sup_{n\ge1}X_n > a\}=\bigcup_{n=1}^\infty\{X_n > a\}\in\mathcal{F}$, 进而 $\{\sup_{n\ge1}X_n \le a\}\in\mathcal{F}$, 故 $\sup_{n\ge1}X_n$ 可测. 

3. **极限上下确界可测性**

由定义 $\liminf_{n\to\infty}X_n=\sup_{n\ge1}(\inf_{m\ge n}X_m)$, $\limsup_{n\to\infty}X_n=\inf_{n\ge1}(\sup_{m\ge n}X_m)$. 

对固定 $ n $, $\inf_{m\ge n}X_m$ 与 $\sup_{m\ge n}X_m$ 可测; 再取上/下确界, 由前两步结论知结果可测. 

### 1.3.9 定义: 扩张实数集
记扩张实数集为
$$
\mathbb{R}^*=[-\infty,+\infty]=\mathbb{R}\cup\{-\infty\}\cup\{+\infty\}
$$
$\mathbb{R}^*$ 上的标准拓扑 $\mathcal{T}_{\mathbb{R}^*}$ 由以下三类集合生成: 
1.  $\mathbb{R}$ 中的所有开集; 
2.  形如 $[-\infty,a)$ 的集合 ($a\in\mathbb{R}$) ; 
3.  形如 $(b,+\infty]$ 的集合 ($b\in\mathbb{R}$) . 

### 1.3.10 定义: 扩张 Borel $\sigma$-代数
$\mathbb{R}^*$ 上的扩张 Borel $\sigma$-代数定义为拓扑 $\mathcal{T}_{\mathbb{R}^*}$ 生成的 $\sigma$-代数, 即
$$
\mathcal{R}^*=\sigma(\mathcal{T}_{\mathbb{R}^*})
$$

### 1.3.11 定义: 广义随机变量
从概率空间 $(\Omega,\mathcal{F},P)$ 到可测空间 $(\mathbb{R}^*,\mathcal{R}^*)$ 的可测映射, 称为**广义随机变量**. 

